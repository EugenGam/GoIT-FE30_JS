{"version":3,"sources":["webpack:///./apiService.js","webpack:///./gallery.js"],"names":["refs","pixaby","key","form","document","querySelector","list","btn","input","gallery","addMore","up","counter","pos","currentValue","imageLoad","console","log","value","innerHTML","classList","remove","fetch","then","res","json","obj","hits","forEach","img","insertAdjacentHTML","largeImageURL","webformatURL","tags","likes","views","comments","downloads","render","window","scrollTo","add","addEventListener","event","which","keyCode","preventDefault","closeImage","src","url","target","dataset","source","e"],"mappings":"kNAAMA,EAAO,CACXC,OAAQ,mEACRC,IAAK,0CACLC,KAAMC,SAASC,cAAc,gBAC7BC,KAAMF,SAASC,cAAc,YAC7BE,IAAKH,SAASC,cAAc,YAC5BG,MAAOJ,SAASC,cAAc,SAC9BI,QAASL,SAASC,cAAc,eAChCK,QAASN,SAASC,cAAc,eAChCM,GAAIP,SAASC,cAAc,QAGzBO,EAAU,EACVC,EAAM,EAYV,IAsCIC,EAAe,GACbC,EAAY,WAChBC,QAAQC,IAAIjB,EAAKQ,MAAMU,OACnBlB,EAAKQ,MAAMU,QAAUJ,IACvBA,EAAed,EAAKQ,MAAMU,MAC1BlB,EAAKS,QAAQU,UAAY,GA/C3BnB,EAAKW,GAAGS,UAAUC,OAAO,WACzBrB,EAAKU,QAAQU,UAAUC,OAAO,WAgD5BR,EAAM,GAERS,MACKtB,EAAKC,OADL,MACiBD,EAAKQ,MAAMU,MAD5B,SAC0CN,EAD1C,eACgEZ,EAAKE,KAEvEqB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAG,OAnDE,SAAAA,GACbA,EAAIC,KAAKC,SAAQ,SAAAC,GACf7B,EAAKS,QAAQqB,mBACX,YADF,gFAKUD,EAAIE,cALd,sEASWF,EAAIG,aATf,2BAUmBH,EAAIE,cAVvB,mBAWWF,EAAII,KAXf,yIAiBMJ,EAAIK,MAjBV,yGAqBML,EAAIM,MArBV,sGAyBMN,EAAIO,SAzBV,6GA6BMP,EAAIQ,UA7BV,wCAiDaC,CAAOZ,MACnBH,MAAK,SAAAG,GACJa,OAAOC,SAAS,EAAG3B,GA9DvBb,EAAKW,GAAGS,UAAUqB,IAAI,WACtBzC,EAAKU,QAAQU,UAAUqB,IAAI,WA+DvB5B,GAAO,OAEXD,GAAW,GAGbZ,EAAKO,IAAImC,iBAAiB,QAAS3B,GACnCf,EAAKU,QAAQgC,iBAAiB,QAAS3B,GACvCf,EAAKW,GAAG+B,iBAAiB,SAAS,WAChCH,OAAOC,SAAS,EAAG,MAGrBxC,EAAKQ,MAAMkC,iBAAiB,WAAW,SAASC,GAC3B,IAAfA,EAAMC,OAAgC,IAAjBD,EAAME,UAC7BF,EAAMG,iBACN/B,Q,gCClFJ,SAASgC,IACP3C,SAASC,cAAc,gBAAgBe,UAAUC,OAAO,WACxDjB,SAASC,cAAc,oBAAoB2C,IAAM,GAdnC5C,SAASC,cAAc,eAU/BqC,iBAAiB,SARzB,SAAmBC,GACjBA,EAAMG,iBACN,IACMG,EADON,EAAMO,OACAC,QAAQC,OAC3BhD,SAASC,cAAc,gBAAgBe,UAAUqB,IAAI,WACrDrC,SAASC,cAAc,oBAAoB2C,IAA3C,GAAoDC,KAUtD7C,SACGC,cAAc,qBACdqC,iBAAiB,QAASK,GAE7B3C,SACGC,cAAc,sBACdqC,iBAAiB,QAASK,GAE7B3C,SAASsC,iBAAiB,WAAW,SAASW,GAEhC,WADAA,EAAEnD,KAEZ6C,S","file":"main.c26bf7021ecc23035274.js","sourcesContent":["const refs = {\r\n  pixaby: 'https://pixabay.com/api/?image_type=photo&orientation=horizontal',\r\n  key: '&key=16377797-6d9ebd48227d507be381d4be6',\r\n  form: document.querySelector('.search-form'),\r\n  list: document.querySelector('.gallery'),\r\n  btn: document.querySelector('.findBtn'),\r\n  input: document.querySelector('.inpt'),\r\n  gallery: document.querySelector('.js-gallery'),\r\n  addMore: document.querySelector('.add__more '),\r\n  up: document.querySelector('.up'),\r\n};\r\n\r\nlet counter = 1;\r\nlet pos = 0;\r\n\r\nfunction makeVisible() {\r\n  refs.up.classList.add('visible');\r\n  refs.addMore.classList.add('visible');\r\n}\r\n\r\nfunction makeUnVisible() {\r\n  refs.up.classList.remove('visible');\r\n  refs.addMore.classList.remove('visible');\r\n}\r\n\r\nconst render = obj => {\r\n  obj.hits.forEach(img => {\r\n    refs.gallery.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<li class=\"gallery__item\">\r\n    <a\r\n      class=\"gallery__link\"\r\n      href=\"${img.largeImageURL}\"\r\n    >\r\n      <img\r\n        class=\"gallery__image\"\r\n        src=\"${img.webformatURL}\"\r\n        data-source=\"${img.largeImageURL}\"\r\n        alt=\"${img.tags}\"\r\n      />\r\n    </a>\r\n    <div class=\"stats\">\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">thumb_up</i>\r\n        ${img.likes}\r\n      </p>\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">visibility</i>\r\n        ${img.views}\r\n      </p>\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">comment</i>\r\n        ${img.comments}\r\n      </p>\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">cloud_download</i>\r\n        ${img.downloads}\r\n      </p>\r\n    </div>\r\n  </li>`,\r\n    );\r\n  });\r\n};\r\nlet currentValue = '';\r\nconst imageLoad = () => {\r\n  console.log(refs.input.value);\r\n  if (refs.input.value !== currentValue) {\r\n    currentValue = refs.input.value;\r\n    refs.gallery.innerHTML = '';\r\n    makeUnVisible();\r\n    pos = 0;\r\n  }\r\n  fetch(\r\n    `${refs.pixaby}&q=${refs.input.value}&page=${counter}&per_page=12${refs.key}`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(obj => render(obj))\r\n    .then(obj => {\r\n      window.scrollTo(0, pos);\r\n      makeVisible();\r\n      pos += 1000;\r\n    });\r\n  counter += 1;\r\n};\r\n\r\nrefs.btn.addEventListener('click', imageLoad);\r\nrefs.addMore.addEventListener('click', imageLoad);\r\nrefs.up.addEventListener('click', function() {\r\n  window.scrollTo(0, 0);\r\n});\r\n\r\nrefs.input.addEventListener('keydown', function(event) {\r\n  if (event.which == 13 || event.keyCode == 13) {\r\n    event.preventDefault();\r\n    imageLoad();\r\n  }\r\n});\r\n\r\n","const gallery = document.querySelector('.js-gallery');\r\n\r\nfunction openImage(event) {\r\n  event.preventDefault();\r\n  let target = event.target;\r\n  const url = target.dataset.source;\r\n  document.querySelector('div.lightbox').classList.add('is-open');\r\n  document.querySelector('.lightbox__image').src = `${url}`;\r\n}\r\n\r\ngallery.addEventListener('click', openImage);\r\n\r\nfunction closeImage() {\r\n  document.querySelector('div.lightbox').classList.remove('is-open');\r\n  document.querySelector('.lightbox__image').src = '';\r\n}\r\n\r\ndocument\r\n  .querySelector('.lightbox__button')\r\n  .addEventListener('click', closeImage);\r\n\r\ndocument\r\n  .querySelector('.lightbox__overlay')\r\n  .addEventListener('click', closeImage);\r\n\r\ndocument.addEventListener('keydown', function(e) {\r\n  const key = e.key;\r\n  if (key === 'Escape') {\r\n    closeImage();\r\n  }\r\n});\r\n"],"sourceRoot":""}